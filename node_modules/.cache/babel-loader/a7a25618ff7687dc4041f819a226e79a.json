{"ast":null,"code":"var _jsxFileName = \"/Users/draxzh/Documents/web project/sneaker_shopping/app/src/components/CartItem.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'commons/axios';\nimport { formatPrice } from 'commons/FormatPrice';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartItem = props => {\n  _s();\n\n  const [mount, setMount] = useState(props.cart.mount);\n  const {\n    id,\n    name,\n    image,\n    price\n  } = props.cart || {};\n  const sumPrice = useMemo;\n  formatPrice(mount * parseInt(price));\n\n  const handleChange = e => {\n    //e.target.value实际上是字符串\n    const _mount = parseInt(e.target.value);\n\n    setMount(_mount);\n    const newCart = { ...props.cart,\n      mount: _mount\n    };\n    axios.put(`http://localhost:3003/carts/${id}`, newCart).then(res => {\n      props.updateCart(newCart);\n    });\n  };\n\n  const deleteCart = () => {\n    axios.delete(`http://localhost:3003/carts/${id}`).then(res => {\n      props.deleteCart(props.cart);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"columns is-vcentered\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column is-narrow\",\n      onClick: deleteCart,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column is-narrow\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: name,\n        width: \"100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column cart-name\",\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"price\",\n        children: formatPrice(price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"input num-input\" //最小值应该为1\n        ,\n        min: 1,\n        value: mount,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sum-price\",\n        children: sumPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartItem, \"O5qNWuzKsMobMfooNztNRiU52PU=\");\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"sources":["/Users/draxzh/Documents/web project/sneaker_shopping/app/src/components/CartItem.js"],"names":["axios","formatPrice","React","useState","CartItem","props","mount","setMount","cart","id","name","image","price","sumPrice","useMemo","parseInt","handleChange","e","_mount","target","value","newCart","put","then","res","updateCart","deleteCart","delete"],"mappings":"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","sourcesContent":["import axios from 'commons/axios';\nimport { formatPrice } from 'commons/FormatPrice';\nimport React, {useState} from 'react';\n\nconst CartItem=props=>{\n    const [mount, setMount] =useState(props.cart.mount);\n    const {id, name, image, price} = props.cart||{};\n\n    const sumPrice = useMemo\n        formatPrice(mount * parseInt(price));\n\n    const handleChange = e =>{\n        //e.target.value实际上是字符串\n        const _mount = parseInt(e.target.value);\n        setMount(_mount);\n        const newCart={\n            ...props.cart,\n            mount: _mount\n        }\n        axios.put(`http://localhost:3003/carts/${id}`,newCart).then(res=>{\n            props.updateCart(newCart)\n        });\n    };\n\n    const deleteCart = () =>{\n        axios.delete(`http://localhost:3003/carts/${id}`).then(res=>{\n            props.deleteCart(props.cart)\n        })\n    }\n\n    return(\n        <div className=\"columns is-vcentered\">\n            <div className=\"column is-narrow\" onClick={deleteCart}>\n                <span className=\"close\">X</span>\n            </div>\n            <div className=\"column is-narrow\">\n                <img src={image} alt={name} width=\"100\"/>\n            </div>\n            <div className=\"column cart-name\">\n                {name}\n            </div>\n            <div className=\"column\">\n                <span className=\"price\">{formatPrice(price)}</span>\n            </div>\n            <div className=\"column\">\n                <input\n                type=\"number\"\n                className=\"input num-input\"\n                //最小值应该为1\n                min={1}\n                value={mount}\n                onChange={handleChange}\n            />\n            </div>\n            <div className=\"column\">\n                <span className=\"sum-price\">{sumPrice}</span>\n            </div>\n        </div>\n    );\n};\n\nexport default CartItem; "]},"metadata":{},"sourceType":"module"}