{"ast":null,"code":"var _jsxFileName = \"/Users/draxzh/Documents/web project/sneaker_shopping/app/src/components/CartItem.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'commons/axios';\nimport { formatPrice } from 'commons/FormatPrice';\nimport React, { useState, useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartItem = props => {\n  _s();\n\n  const [mount, setMount] = useState(props.cart.mount);\n  const {\n    id,\n    name,\n    image,\n    price\n  } = props.cart || {};\n  const sumPrice = useMemo(() => {\n    return formatPrice(mount * parseInt(price));\n  }, [mount, price]);\n\n  const handleChange = e => {\n    //e.target.value实际上是字符串\n    const _mount = parseInt(e.target.value);\n\n    setMount(_mount);\n    const newCart = { ...props.cart,\n      mount: _mount\n    };\n    axios.put(`http://localhost:3003/carts/${id}`, newCart).then(res => {\n      props.updateCart(newCart);\n    });\n  };\n\n  const deleteCart = () => {\n    axios.delete(`http://localhost:3003/carts/${id}`).then(res => {\n      props.deleteCart(props.cart);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"columns is-vcentered\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column is-narrow\",\n      onClick: deleteCart,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column is-narrow\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: name,\n        width: \"100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column cart-name\",\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"price\",\n        children: formatPrice(price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"input num-input\" //最小值应该为1\n        ,\n        min: 1,\n        value: mount,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sum-price\",\n        children: sumPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartItem, \"uRI5A85+rcmonBxNOiKfL5sGgk4=\");\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"names":["axios","formatPrice","React","useState","useMemo","CartItem","props","mount","setMount","cart","id","name","image","price","sumPrice","parseInt","handleChange","e","_mount","target","value","newCart","put","then","res","updateCart","deleteCart","delete"],"sources":["/Users/draxzh/Documents/web project/sneaker_shopping/app/src/components/CartItem.js"],"sourcesContent":["import axios from 'commons/axios';\nimport { formatPrice } from 'commons/FormatPrice';\nimport React, {useState, useMemo} from 'react';\n\nconst CartItem=props=>{\n    const [mount, setMount] =useState(props.cart.mount);\n    const {id, name, image, price} = props.cart||{};\n\n    const sumPrice = useMemo(()=> {\n        return formatPrice(mount * parseInt(price))\n    }, [mount, price]);\n\n    const handleChange = e =>{\n        //e.target.value实际上是字符串\n        const _mount = parseInt(e.target.value);\n        setMount(_mount);\n        const newCart={\n            ...props.cart,\n            mount: _mount\n        }\n        axios.put(`http://localhost:3003/carts/${id}`,newCart).then(res=>{\n            props.updateCart(newCart)\n        });\n    };\n\n    const deleteCart = () =>{\n        axios.delete(`http://localhost:3003/carts/${id}`).then(res=>{\n            props.deleteCart(props.cart)\n        })\n    }\n\n    return(\n        <div className=\"columns is-vcentered\">\n            <div className=\"column is-narrow\" onClick={deleteCart}>\n                <span className=\"close\">X</span>\n            </div>\n            <div className=\"column is-narrow\">\n                <img src={image} alt={name} width=\"100\"/>\n            </div>\n            <div className=\"column cart-name\">\n                {name}\n            </div>\n            <div className=\"column\">\n                <span className=\"price\">{formatPrice(price)}</span>\n            </div>\n            <div className=\"column\">\n                <input\n                type=\"number\"\n                className=\"input num-input\"\n                //最小值应该为1\n                min={1}\n                value={mount}\n                onChange={handleChange}\n            />\n            </div>\n            <div className=\"column\">\n                <span className=\"sum-price\">{sumPrice}</span>\n            </div>\n        </div>\n    );\n};\n\nexport default CartItem; "],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,eAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,OAAzB,QAAuC,OAAvC;;;AAEA,MAAMC,QAAQ,GAACC,KAAK,IAAE;EAAA;;EAClB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAmBL,QAAQ,CAACG,KAAK,CAACG,IAAN,CAAWF,KAAZ,CAAjC;EACA,MAAM;IAACG,EAAD;IAAKC,IAAL;IAAWC,KAAX;IAAkBC;EAAlB,IAA2BP,KAAK,CAACG,IAAN,IAAY,EAA7C;EAEA,MAAMK,QAAQ,GAAGV,OAAO,CAAC,MAAK;IAC1B,OAAOH,WAAW,CAACM,KAAK,GAAGQ,QAAQ,CAACF,KAAD,CAAjB,CAAlB;EACH,CAFuB,EAErB,CAACN,KAAD,EAAQM,KAAR,CAFqB,CAAxB;;EAIA,MAAMG,YAAY,GAAGC,CAAC,IAAG;IACrB;IACA,MAAMC,MAAM,GAAGH,QAAQ,CAACE,CAAC,CAACE,MAAF,CAASC,KAAV,CAAvB;;IACAZ,QAAQ,CAACU,MAAD,CAAR;IACA,MAAMG,OAAO,GAAC,EACV,GAAGf,KAAK,CAACG,IADC;MAEVF,KAAK,EAAEW;IAFG,CAAd;IAIAlB,KAAK,CAACsB,GAAN,CAAW,+BAA8BZ,EAAG,EAA5C,EAA8CW,OAA9C,EAAuDE,IAAvD,CAA4DC,GAAG,IAAE;MAC7DlB,KAAK,CAACmB,UAAN,CAAiBJ,OAAjB;IACH,CAFD;EAGH,CAXD;;EAaA,MAAMK,UAAU,GAAG,MAAK;IACpB1B,KAAK,CAAC2B,MAAN,CAAc,+BAA8BjB,EAAG,EAA/C,EAAkDa,IAAlD,CAAuDC,GAAG,IAAE;MACxDlB,KAAK,CAACoB,UAAN,CAAiBpB,KAAK,CAACG,IAAvB;IACH,CAFD;EAGH,CAJD;;EAMA,oBACI;IAAK,SAAS,EAAC,sBAAf;IAAA,wBACI;MAAK,SAAS,EAAC,kBAAf;MAAkC,OAAO,EAAEiB,UAA3C;MAAA,uBACI;QAAM,SAAS,EAAC,OAAhB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACI;QAAK,GAAG,EAAEd,KAAV;QAAiB,GAAG,EAAED,IAAtB;QAA4B,KAAK,EAAC;MAAlC;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAJJ,eAOI;MAAK,SAAS,EAAC,kBAAf;MAAA,UACKA;IADL;MAAA;MAAA;MAAA;IAAA,QAPJ,eAUI;MAAK,SAAS,EAAC,QAAf;MAAA,uBACI;QAAM,SAAS,EAAC,OAAhB;QAAA,UAAyBV,WAAW,CAACY,KAAD;MAApC;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAVJ,eAaI;MAAK,SAAS,EAAC,QAAf;MAAA,uBACI;QACA,IAAI,EAAC,QADL;QAEA,SAAS,EAAC,iBAFV,CAGA;QAHA;QAIA,GAAG,EAAE,CAJL;QAKA,KAAK,EAAEN,KALP;QAMA,QAAQ,EAAES;MANV;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAbJ,eAuBI;MAAK,SAAS,EAAC,QAAf;MAAA,uBACI;QAAM,SAAS,EAAC,WAAhB;QAAA,UAA6BF;MAA7B;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAvBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA6BH,CAxDD;;GAAMT,Q;;KAAAA,Q;AA0DN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}